(this.webpackJsonpcsc309_team28=this.webpackJsonpcsc309_team28||[]).push([[0],{17:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),r=a(11),c=a.n(r),o=(a(24),a(3)),l=a(4),u=a(2),h=a(6),d=a(5),g=(a(25),a(14)),j=function(){function e(){Object(o.a)(this,e),this.reviewId=0,this.locations=[]}return Object(l.a)(e,[{key:"addLocation",value:function(e,t,a,s,n){this.locations.push({id:this.locations.length,name:e,venueType:t,lat:a,lng:s,avgRating:2.5,numRatings:0,tags:n.map((function(e){return{name:e,val:0}})),imagePath:"".concat(".","/assets/images/venue_").concat(this.locations.length,".jpg"),reviews:[]})}},{key:"addReview",value:function(e,t,a,s){this.locations[e].reviews.push({username:t,rating:a,imagePath:"".concat(".","/assets/images/profile.png"),reviewId:this.reviewId,review:s}),this.reviewId++,this.locations[e].avgRating=0===this.locations[e].numRatings?a:(this.locations[e].avgRating*this.locations[e].numRatings+a)/(this.locations[e].numRatings+1),this.locations[e].numRatings=this.locations[e].numRatings+1}},{key:"removeReview",value:function(e,t){return this.locations[e].reviews=this.locations[e].reviews.filter((function(e){return e.reviewId!==t})),this}},{key:"updateTagVal",value:function(e,t,a){var s=this.locations[e].tags.findIndex((function(e){return e.name===t}));-1!==s&&(this.locations[e].tags[s].val=a)}},{key:"updateTags",value:function(e,t){var a,s=Object(g.a)(t);try{for(s.s();!(a=s.n()).done;){var n=a.value;this.updateTagVal(e,n.name,n.val)}}catch(i){s.e(i)}finally{s.f()}}},{key:"getTags",value:function(e){this.locations[e].tags.filter((function(e){return 0!==e.val}))}},{key:"getLoc",value:function(e){return this.locations[e]}},{key:"getGeoLoc",value:function(e){var t=this.locations[e];return{name:t.name,id:e,rating:t.avgRating,lat:t.lat,lng:t.lng,tags:t.tags}}},{key:"getGeoLocData",value:function(){var e=this;return this.locations.map((function(t){return e.getGeoLoc(t.id)}))}},{key:"getLocationsWithQuery",value:function(e){var t,a=[],s=Object(g.a)(this.locations);try{for(s.s();!(t=s.n()).done;){var n=t.value;n.name.toLowerCase().includes(e.toLowerCase())&&a.push(n)}}catch(i){s.e(i)}finally{s.f()}return a}}]),e}(),v=function(){function e(){Object(o.a)(this,e),this.reviewId=0,this.users=[]}return Object(l.a)(e,[{key:"addUser",value:function(e,t){this.users.push({uid:this.users.length,username:e,password:t,imagePath:"".concat(".","/assets/images/profile.png"),reviews:[]})}},{key:"addReview",value:function(e,t,a,s){this.users[t].reviews.push({username:this.users[t].username,rating:a,review:s,reviewId:this.reviewId,location_id:e}),this.reviewId++}},{key:"getUser",value:function(e){for(var t=0;t<this.users.length;t++)if(this.users[t].username===e)return this.users[t]}},{key:"removeUser",value:function(e,t){for(var a=this.getUser(e),s=0;s<a.reviews.length;s++)t.removeReview(a.reviews[s].location_id,a.reviews[s].reviewId);this.users=this.users.filter((function(t){return t.username!==e}));var n=0;return this.users.forEach((function(e){e.uid=n,n++})),this}},{key:"removeReview",value:function(e,t){return this.users[e].reviews=this.users[e].reviews.filter((function(e){return e.reviewId!==t})),this}}]),e}(),b=a(12),p=(a(26),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"tagContainer",title:"".concat(this.props.val,"%"),children:[Object(s.jsx)("span",{className:"tagName",children:this.props.name}),Object(s.jsx)("div",{className:"filled",style:{width:"".concat(this.props.val,"%")}})]})}}]),a}(i.a.Component)),m=(a(27),{width:"100%",height:"100%"}),O={width:"100%",height:"100%",backgroundcolor:"#e0e0e0"},f=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={activePlace:{},showingInfoWindow:!1,activeMarker:null},s.onMarkerMouseover=s.onMarkerMouseover.bind(Object(u.a)(s)),s.onMarkerMouseout=s.onMarkerMouseout.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"onMarkerMouseover",value:function(e,t,a){this.state.showingInfoWindow||this.setState({activePlace:e,activeMarker:t,showingInfoWindow:!0})}},{key:"onMarkerMouseout",value:function(){this.setState({activePlace:{},showingInfoWindow:!1,activeMarker:null})}},{key:"generateTagIndicators",value:function(e){if(e.tags)return e.tags.filter((function(e){return 0!==e.val})).map((function(e){return Object(s.jsx)(p,{name:e.name,val:e.val})}))}},{key:"generateMarkers",value:function(){var e=this;return this.props.locations.flatMap((function(t){return Object(s.jsx)(b.Marker,{id:t.id,name:t.name,icon:{url:"".concat(".","/assets/images/markers/marker").concat(Math.floor(t.rating),".png"),anchor:new e.props.google.maps.Point(32,32),scaledSize:new e.props.google.maps.Size(32,32)},position:{lat:t.lat,lng:t.lng},tags:t.tags,onClick:function(){e.props.openLocPage(t.id),e.onMarkerMouseout()},onMouseover:e.onMarkerMouseover,onMouseout:e.onMarkerMouseout},t.id)}))}},{key:"render",value:function(){return Object(s.jsxs)(b.Map,{google:this.props.google,zoom:16,style:m,initialCenter:{lat:43.663,lng:-79.392},children:[this.generateMarkers(),Object(s.jsxs)(b.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,style:O,children:[Object(s.jsx)("h1",{className:"name",children:this.state.activePlace.name}),this.generateTagIndicators(this.state.activePlace)]})]})}}]),a}(i.a.Component),x=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyAoQit1a6-1wL8EneYqGTO4aFTfmpixG4Y"})(f),k=a(9),y=a.n(k),P=function(e,t,a,n,i){if("admin"===e||e===t)return Object(s.jsx)("img",{className:"deleteButton",alt:"deleteButton",src:"".concat(".","/assets/images/trash.png"),onClick:function(){i(t,a,n)},title:"Delete Review"})},w=function(e,t,a){if("admin"===e&&"admin"!==t)return Object(s.jsx)("img",{className:"deleteUserButton",alt:"deleteUserButton",src:"".concat(".","/assets/images/trash.png"),onClick:function(){a(t)},title:"Delete User"})},C=(a(49),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"generateTagIndicators",value:function(e){return e.map((function(e){return Object(s.jsx)(p,{name:e.name,val:e.val})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("div",{id:"addReviewButton",className:"purpleButton",onClick:this.props.leaveReview,children:"+ Review"}),Object(s.jsx)("img",{className:"locImage",alt:"locationImage",src:this.props.locData.imagePath}),Object(s.jsxs)("div",{className:"infoContainer",children:[Object(s.jsxs)("div",{className:"titleContainer",children:[Object(s.jsx)("h1",{id:"nameHeader",children:this.props.locData.name}),Object(s.jsx)("h3",{id:"venueHeader",children:this.props.locData.venueType})]}),Object(s.jsxs)("div",{className:"avgRatingsContainer",children:[Object(s.jsx)(y.a,{rating:this.props.locData.avgRating,starRatedColor:"grey",starEmptyColor:"darkgrey",starDimension:"2vw",starSpacing:"0.2vw"}),Object(s.jsxs)("h3",{id:"noRatings",children:["(",this.props.locData.numRatings," Ratings)"]})]}),this.generateTagIndicators(this.props.locData.tags.filter((function(e){return 0!==e.val})))]}),Object(s.jsxs)("div",{className:"reviewsContainer",children:[Object(s.jsx)("h2",{id:"reviewHeader",children:"Reviews"}),this.props.locData.reviews.map((function(t){return Object(s.jsxs)("div",{className:"review",children:[Object(s.jsx)("div",{className:"profileIconContainer",children:Object(s.jsx)("img",{className:"profileIcon",alt:"profileIcon",src:t.imagePath})}),Object(s.jsx)("div",{className:"usernameContainer",children:Object(s.jsx)("p",{className:"username",title:"Go to ".concat(t.username,"'s page"),onClick:function(){e.props.openUserPage(t.username)},children:t.username})}),Object(s.jsxs)("div",{className:"reviewRatingContainer",children:[Object(s.jsx)(y.a,{rating:t.rating,starRatedColor:"grey",starEmptyColor:"darkgrey",starDimension:"1.5vw",starSpacing:"0.15vw"}),P(e.props.currentUser,t.username,e.props.locData.id,t.reviewId,e.props.deleteReview)]}),Object(s.jsx)("div",{className:"reviewContainer",children:t.review})]})}))]})]})}}]),a}(i.a.Component)),S=(a(50),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("button",{className:"backButton",onClick:this.props.backToLocPage,children:"Back"}),w(this.props.currentUser,this.props.userData.username,this.props.deleteUser),Object(s.jsx)("img",{className:"profilePic",alt:"profilePic",src:this.props.userData.imagePath}),Object(s.jsx)("div",{className:"userInfoContainer",children:Object(s.jsxs)("div",{className:"userTitleContainer",children:[Object(s.jsx)("h1",{children:this.props.userData.username}),Object(s.jsxs)("h3",{children:[this.props.userData.reviews.length," Review"]})]})}),Object(s.jsxs)("div",{className:"reviewsContainer",children:[Object(s.jsx)("h2",{children:"Reviews"}),this.props.userData.reviews.map((function(t){return Object(s.jsxs)("div",{className:"review",children:[Object(s.jsx)("div",{className:"profileIconContainer",children:Object(s.jsx)("img",{className:"profileIcon",alt:"profileIcon",src:e.props.locData[t.location_id].imagePath})}),Object(s.jsx)("div",{className:"usernameContainer",onClick:function(){e.props.openLocPage(t.location_id)},children:Object(s.jsx)("strong",{children:e.props.locData[t.location_id].name})}),Object(s.jsxs)("div",{className:"reviewRatingContainer",children:[Object(s.jsx)(y.a,{rating:t.rating,starRatedColor:"grey",starEmptyColor:"darkgrey",starDimension:"20px",starSpacing:"2px"}),P(e.props.currentUser,e.props.userData.username,t.location_id,t.reviewId,e.props.deleteReview)]}),Object(s.jsx)("div",{className:"reviewContainer",children:t.review})]})}))]})]})}}]),a}(i.a.Component)),N=(a(17),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"generateTagIndicators",value:function(e){return e.map((function(e){return Object(s.jsx)(p,{name:e.name,val:e.val})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"searchResultsContainer",children:[Object(s.jsx)("h2",{id:"resultsHeader",children:"Results"}),Object(s.jsx)("button",{className:"backButton",onClick:this.props.backToSearchPage,children:"Back"}),this.props.locData.map((function(t){return Object(s.jsx)("div",{className:"review",children:Object(s.jsxs)("div",{className:"reviewInfoContainer",children:[Object(s.jsx)("img",{className:"searchLocImage",alt:"searchLocationImage",src:t.imagePath}),Object(s.jsxs)("div",{className:"titleContainer",children:[Object(s.jsx)("p",{className:"resultTitle",onClick:function(){e.props.openLocPage(t.id)},children:t.name}),Object(s.jsx)("h3",{className:"resultSubtitle",children:t.venueType})]}),Object(s.jsxs)("div",{className:"avgRatingsContainer",children:[Object(s.jsx)(y.a,{rating:t.avgRating,starRatedColor:"grey",starEmptyColor:"darkgrey",starDimension:"1.5vw",starSpacing:"0.15vw"}),Object(s.jsxs)("h3",{className:"resultSubtitle",children:["(",t.numRatings," Ratings)"]})]}),e.generateTagIndicators(t.tags.filter((function(e){return 0!==e.val})))]})})}))]})}}]),a}(i.a.Component)),L=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={value:"Search"},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.setSearchResult(this.state.value)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"searchResultsContainer",children:[Object(s.jsx)("h2",{children:"Search"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("label",{children:["Name:",Object(s.jsx)("input",{type:"text",value:this.state.value,onChange:this.handleChange})]}),Object(s.jsx)("input",{type:"submit",value:"Submit"})]})]})}}]),a}(i.a.Component),I=a(18),R=a.n(I),D=(a(51),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("label",{className:"tagContainer",title:"".concat(this.props.val,"%"),children:[Object(s.jsx)("input",{class:"checkbox",type:"checkbox"}),Object(s.jsxs)("span",{className:"tagName",children:[Object(s.jsx)("span",{class:"checkmark"}),this.props.name]}),Object(s.jsx)("div",{className:"filled",style:{width:"".concat(this.props.val,"%")}})]})}}]),a}(i.a.Component)),U=(a(52),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={rating:1},e}return Object(l.a)(a,[{key:"generateButtonTagIndicators",value:function(e){return e.map((function(e){return Object(s.jsx)(D,{name:e.name,val:e.val})}))}},{key:"render",value:function(){var e=this.state.rating;return Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("img",{className:"locImage",alt:"locationImage",src:this.props.locData.imagePath}),Object(s.jsx)("button",{className:"backButton",onClick:this.props.backToLocPage,children:"Back"}),Object(s.jsxs)("div",{className:"infoContainer",children:[Object(s.jsxs)("div",{className:"titleContainer",children:[Object(s.jsx)("h1",{id:"nameHeader",children:this.props.locData.name}),Object(s.jsx)("h3",{id:"venueHeader",children:this.props.locData.venueType})]}),Object(s.jsx)("div",{className:"ratingsContainer",children:Object(s.jsx)(R.a,{name:"rate1",starCount:5,starColor:"grey",emptyStarColor:"darkgrey",value:e,onStarClick:this.onStarClick.bind(this)})}),Object(s.jsx)("p",{className:"reviewPageText",children:"Please select safety features present"}),this.generateButtonTagIndicators(this.props.locData.tags)]}),Object(s.jsx)("p",{id:"commentHeader",className:"reviewPageText",children:"Comments:"}),Object(s.jsxs)("form",{className:"comment",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("textarea",{className:"commentText",type:"text",value:this.state.value,onChange:this.handleChange}),"        "]}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{id:"submitButton",className:"purpleButton",type:"submit",value:"Submit"})]})]})}},{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}}]),a}(i.a.Component)),B=(a(53),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={pageState:"prompt",user:"",pass:"",passVerification:""},s.login=s.login.bind(Object(u.a)(s)),s.register=s.register.bind(Object(u.a)(s)),s.prompt=s.prompt.bind(Object(u.a)(s)),s.handleChangeUser=s.handleChangeUser.bind(Object(u.a)(s)),s.handleChangePass=s.handleChangePass.bind(Object(u.a)(s)),s.handleChangePassVerification=s.handleChangePassVerification.bind(Object(u.a)(s)),s.handleLoginSubmit=s.handleLoginSubmit.bind(Object(u.a)(s)),s.handleRegisterSubmit=s.handleRegisterSubmit.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"login",value:function(){this.setState({pageState:"login"})}},{key:"register",value:function(){this.setState({pageState:"register"})}},{key:"prompt",value:function(){this.setState({pageState:"prompt"})}},{key:"handleLoginSubmit",value:function(e){e.preventDefault(),this.props.handleLoginAttempt(this.state.user,this.state.pass)}},{key:"handleRegisterSubmit",value:function(e){e.preventDefault(),this.state.pass!==this.state.passVerification&&console.log("Failed")}},{key:"handleChangeUser",value:function(e){this.setState({user:e.target.value})}},{key:"handleChangePass",value:function(e){this.setState({pass:e.target.value})}},{key:"handleChangePassVerification",value:function(e){this.setState({passVerification:e.target.value})}},{key:"renderPromptPage",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"backgroundLogin",onClick:this.props.closeHandler}),Object(s.jsxs)("div",{className:"loginBoxContainer",children:[Object(s.jsx)("h1",{className:"loginHeader",children:"Do you already have an account?"}),Object(s.jsxs)("div",{className:"loginYes",children:[Object(s.jsx)("h2",{children:"Yes"}),Object(s.jsx)("div",{className:"purpleButton loginPageButton",onClick:this.login,children:"Login"})]}),Object(s.jsxs)("div",{className:"loginNo",children:[Object(s.jsx)("h2",{children:"No"}),Object(s.jsx)("div",{className:"purpleButton loginPageButton",onClick:this.register,children:"Register"})]})]})]})}},{key:"renderLoginPage",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"backgroundLogin",onClick:this.props.closeHandler}),Object(s.jsxs)("div",{className:"loginBoxContainer",children:[Object(s.jsx)("button",{className:"backButton",onClick:this.prompt,children:"Back"}),Object(s.jsx)("h1",{className:"lessPadding",children:"Login"}),Object(s.jsxs)("form",{className:"accForm loginForm",onSubmit:this.handleLoginSubmit,children:[Object(s.jsxs)("label",{children:["Username:",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChangeUser})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:["Password:",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",name:"pass",value:this.state.pass,onChange:this.handleChangePass})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"submit",className:"purpleButton loginPageButton",value:"Login"})]})]})]})}},{key:"renderRegisterPage",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"backgroundLogin",onClick:this.props.closeHandler}),Object(s.jsxs)("div",{className:"loginBoxContainer",children:[Object(s.jsx)("button",{className:"backButton",onClick:this.prompt,children:"Back"}),Object(s.jsx)("h1",{className:"lessPadding",children:"Register"}),Object(s.jsxs)("form",{className:"accForm registerForm",onSubmit:this.handleRegisterSubmit,children:[Object(s.jsxs)("label",{children:["Username:",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"user",onChange:this.handleChangeUser,value:this.state.user})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:["Password:",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",name:"pass",onChange:this.handleChangePass,value:this.state.pass})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:["Repeat Password:",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",name:"passVerification",onChange:this.handleChangePassVerification,value:this.state.passVerification})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"submit",className:"purpleButton loginPageButton",value:"Register"})]})]})]})}},{key:"pageHandler",value:function(){return"prompt"===this.state.pageState?this.renderPromptPage():"login"===this.state.pageState?this.renderLoginPage():this.renderRegisterPage()}},{key:"render",value:function(){return this.pageHandler()}}]),a}(i.a.Component)),T=["Curbside Pickup","Hand Sanitizer","Masks","Gloves","Checks Temperature","Patio"],M=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).leaveReview=function(){s.setState({sidePageClass:"leaveReviewPage"})},s.backToLocPage=function(){-1!==s.state.currLocId?s.setState({sidePageClass:"locPage"}):s.closeSidePage()},s.backToSearchPage=function(){s.setState({currSearchQuery:-1})},s.state={mapClass:"fullMap",overlayClass:"none",userLoggedIn:"",currLocId:-1,currUserId:-1,currSearchQuery:-1,showSearchPage:!1,locData:new j,userData:new v,sidePageClass:"locPage"},s.state.locData.addLocation("Sidney Smith","Lecture Hall",43.663098,-79.398568,T),s.state.locData.addLocation("UofT Bookstore","Store",43.659213,-79.39696,T),s.state.locData.addLocation("Isabel Bader Theatre","Theatre",43.667246,-79.392524,T),s.state.locData.updateTags(0,[{name:T[4],val:60},{name:T[1],val:95},{name:T[0],val:20}]),s.state.locData.updateTags(1,[{name:T[2],val:42.5},{name:T[3],val:.5}]),s.state.locData.updateTags(2,[{name:T[5],val:100}]),s.state.userData.addUser("admin","admin"),s.state.userData.addUser("user","js"),s.state.userData.addUser("janedoe","jd"),s.state.userData.addReview(0,1,4,"Lots of hand sanitizer on hand!"),s.state.userData.addReview(0,2,4.5,"Washrooms infrequently cleaned. Terrible, but I'll give a high rating for testing purposes."),s.state.locData.addReview(0,"user",4,"Lots of hand sanitizer on hand!"),s.state.locData.addReview(0,"janedoe",4.5,"Washrooms infrequently cleaned. Terrible, but I'll give a high rating for testing purposes."),s.openLocPage=s.openLocPage.bind(Object(u.a)(s)),s.openUserPage=s.openUserPage.bind(Object(u.a)(s)),s.openSearchPage=s.openSearchPage.bind(Object(u.a)(s)),s.setSearchResult=s.setSearchResult.bind(Object(u.a)(s)),s.closeSidePage=s.closeSidePage.bind(Object(u.a)(s)),s.handleLogin=s.handleLogin.bind(Object(u.a)(s)),s.closeOverlay=s.closeOverlay.bind(Object(u.a)(s)),s.handleLoginAttempt=s.handleLoginAttempt.bind(Object(u.a)(s)),s.deleteReview=s.deleteReview.bind(Object(u.a)(s)),s.deleteUser=s.deleteUser.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"openLocPage",value:function(e){var t="fullMap"===this.state.mapClass?"sideMap":"fullMap";this.setState({sidePageClass:"locPage"}),-1!==this.state.currLocId&&this.state.currLocId!==e||this.state.showSearchPage||-1!==this.state.currUserId?this.setState({currUserId:-1,showSearchPage:!1,currLocId:e}):this.setState({currUserId:-1,showSearchPage:!1,mapClass:t,currLocId:this.state.currLocId===e?-1:e})}},{key:"openUserPage",value:function(e){"userPage"===this.state.sidePageClass&&this.state.currUserId===e?this.closeSidePage():this.setState({currUserId:e,sidePageClass:"userPage",mapClass:"sideMap"})}},{key:"openSearchPage",value:function(){this.state.showSearchPage?this.setState({showSearchPage:!1,currSearchQuery:-1,currLocId:-1,mapClass:"fullMap"}):this.setState({showSearchPage:!0,currSearchQuery:-1,currLocId:-1,mapClass:"sideMap"})}},{key:"setSearchResult",value:function(e){this.setState({currSearchQuery:e})}},{key:"deleteReview",value:function(e,t,a){var s=this.state.userData.getUser(e).uid;this.setState({locData:this.state.locData.removeReview(t,a),userData:this.state.userData.removeReview(s,a)})}},{key:"deleteUser",value:function(e){this.closeSidePage(),this.setState({userData:this.state.userData.removeUser(e,this.state.locData)})}},{key:"renderExitButton",value:function(){return Object(s.jsx)("img",{className:"exitButton",alt:"exitButton",src:"".concat(".","/assets/images/exit.png"),title:"Close Side Panel",onClick:this.closeSidePage})}},{key:"renderSidePage",value:function(){return"sideMap"===this.state.mapClass?this.state.showSearchPage?-1===this.state.currSearchQuery?Object(s.jsxs)("div",{className:"sidePage",children:[this.renderExitButton(),Object(s.jsx)(L,{setSearchResult:this.setSearchResult})]}):Object(s.jsxs)("div",{className:"sidePage",children:[this.renderExitButton(),Object(s.jsx)(N,{locData:this.state.locData.getLocationsWithQuery(this.state.currSearchQuery),userData:this.state.userData.getUser(this.state.currUserId),openLocPage:this.openLocPage,backToSearchPage:this.backToSearchPage})]}):-1!==this.state.currUserId&&"userPage"===this.state.sidePageClass?Object(s.jsxs)("div",{className:"sidePage",children:[this.renderExitButton(),Object(s.jsx)(S,{locData:this.state.locData.locations,deleteReview:this.deleteReview,userData:this.state.userData.getUser(this.state.currUserId),currentUser:this.state.userLoggedIn,deleteUser:this.deleteUser,openLocPage:this.openLocPage,backToLocPage:this.backToLocPage})]}):"leaveReviewPage"===this.state.sidePageClass?Object(s.jsxs)("div",{className:"sidePage",children:[this.renderExitButton(),Object(s.jsx)(U,{locData:this.state.locData.getLoc(this.state.currLocId),backToLocPage:this.backToLocPage})]}):Object(s.jsxs)("div",{className:"sidePage",children:[this.renderExitButton(),Object(s.jsx)(C,{locData:this.state.locData.getLoc(this.state.currLocId),openUserPage:this.openUserPage,leaveReview:this.leaveReview,currentUser:this.state.userLoggedIn,deleteReview:this.deleteReview})]}):void 0}},{key:"handleLoginAttempt",value:function(e,t){return("admin"===e&&"admin"===t||"user"===e&&"user"===t)&&(this.setState({userLoggedIn:e}),this.closeOverlay(),!0)}},{key:"renderOverlayPage",value:function(){return"loginPage"===this.state.overlayClass?Object(s.jsx)("div",{className:"loginPage",children:Object(s.jsx)(B,{closeHandler:this.closeOverlay,handleLoginAttempt:this.handleLoginAttempt})}):void 0}},{key:"closeOverlay",value:function(){this.setState({overlayClass:"none"})}},{key:"closeSidePage",value:function(){this.setState({currUserId:-1,mapClass:"fullMap",currLocId:-1,currSearchQuery:-1,showSearchPage:!1})}},{key:"handleLogin",value:function(){""===this.state.userLoggedIn?this.setState({overlayClass:"loginPage"}):this.setState({userLoggedIn:""})}},{key:"renderUserPageButton",value:function(){var e=this;if(""!==this.state.userLoggedIn)return Object(s.jsx)("div",{id:"userPageButton",className:"purpleButton",onClick:function(){e.openUserPage(e.state.userLoggedIn)},children:"".concat(this.state.userLoggedIn,"'s Page")})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[this.renderSidePage(),this.renderOverlayPage(),Object(s.jsxs)("div",{className:this.state.mapClass,children:[Object(s.jsx)("button",{className:"searchButton purpleButton",onClick:this.openSearchPage,children:"Search"}),Object(s.jsx)(x,{locations:this.state.locData.getGeoLocData(),openLocPage:this.openLocPage}),this.renderUserPageButton(),Object(s.jsx)("div",{id:"loginButtonMain",className:"purpleButton",onClick:this.handleLogin,children:""===this.state.userLoggedIn?"Register/Login":"Logout"})]})]})}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.a0c2790f.chunk.js.map